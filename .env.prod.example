# MindRouter2 Production Environment Configuration
# Copy to .env.prod and fill in secure values

# =============================================================================
# DATABASE (MariaDB container)
# =============================================================================
DATABASE_URL=mysql+pymysql://mindrouter:CHANGE_THIS_DB_PASSWORD@mariadb:3306/mindrouter
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# MariaDB container settings
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD
MYSQL_DATABASE=mindrouter
MYSQL_USER=mindrouter
MYSQL_PASSWORD=CHANGE_THIS_DB_PASSWORD

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://:CHANGE_THIS_REDIS_PASSWORD@redis:6379/0
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# =============================================================================
# SECURITY
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_THIS_SECRET_KEY
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# =============================================================================
# ARTIFACT STORAGE
# =============================================================================
ARTIFACT_STORAGE_PATH=/data/artifacts
ARTIFACT_MAX_SIZE_MB=50
ARTIFACT_RETENTION_DAYS=365

# =============================================================================
# QUOTAS AND LIMITS (adjust as needed)
# =============================================================================
DEFAULT_TOKEN_BUDGET_STUDENT=100000
DEFAULT_TOKEN_BUDGET_STAFF=500000
DEFAULT_TOKEN_BUDGET_FACULTY=1000000

DEFAULT_RPM_STUDENT=30
DEFAULT_RPM_STAFF=60
DEFAULT_RPM_FACULTY=120
DEFAULT_RPM_ADMIN=1000

DEFAULT_MAX_CONCURRENT_STUDENT=2
DEFAULT_MAX_CONCURRENT_STAFF=4
DEFAULT_MAX_CONCURRENT_FACULTY=8
DEFAULT_MAX_CONCURRENT_ADMIN=50

# =============================================================================
# SCHEDULER
# =============================================================================
SCHEDULER_WEIGHT_STUDENT=1
SCHEDULER_WEIGHT_STAFF=2
SCHEDULER_WEIGHT_FACULTY=3
SCHEDULER_WEIGHT_ADMIN=10
SCHEDULER_FAIRNESS_WINDOW=300
SCHEDULER_DEPRIORITIZE_THRESHOLD=0.5

# =============================================================================
# BACKEND REGISTRY
# =============================================================================
BACKEND_POLL_INTERVAL=30
BACKEND_HEALTH_TIMEOUT=5
BACKEND_UNHEALTHY_THRESHOLD=3

# =============================================================================
# REQUEST HANDLING
# =============================================================================
BACKEND_REQUEST_TIMEOUT=300
BACKEND_RETRY_ATTEMPTS=2
BACKEND_RETRY_BACKOFF=1.0

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/mindrouter/app.log
AUDIT_LOG_ENABLED=true
AUDIT_LOG_PROMPTS=true
AUDIT_LOG_RESPONSES=true

# =============================================================================
# OBSERVABILITY
# =============================================================================
METRICS_ENABLED=true
METRICS_PREFIX=mindrouter

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
DEBUG=false
RELOAD=false
CORS_ORIGINS=["https://your-domain.example.com"]
